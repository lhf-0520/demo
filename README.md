# 目标


## 移动端完成
+ 难点提出了 共同解决

## 整体的逻辑功能讲解


## 接口说明
+ 接口地址 https://apizza.net/pro/#/project/ae18f90015244b1db0f1b94deb452e75/browse
+ 设计稿 
+ 老师参考地址:  https://gitee.com/nevermo2013/leju-admin


## 乐居整站 项目的实现步骤

### 移动端
+ 静态页面
+ 数据是写死的/mock模拟
+ 实现所有的交互效果


### 中后台
+ 基本功能分析
+ 接口使用说明
+ 关键点/问题解决

### 移动端动态
+ 封装api
+ 替换页面的部分内容为动态形式



## 移动端分析

+ 首页
    - 功能切换/路由 

+ 分类页
> 分类=>子分类(商品列表)=> 商品详情页

    - 分类的数据已有的不允许动的
    - 具体的商品是可以同时属于多个分类的.
    - 商品详情页. 富文本/轮播
    - 商品加入购物车组建,可以用vant实现.
    - 购物车用vuex实现
    - 点击"购买" => "选择邮寄地址"(暂缺) => 支付(后面单独说))  => 添加到订单列表 

+ 发现页
    - 文章分类同"分类页"分类
    - 好物推荐: 轮播切换背景图片.
    - 好物推荐明细页: 基于商品实现,对应后台的"系列"接口

+ 我的
    - 收藏 不提供接口,本地基于localstorage实现.
    - 订单列表用数据模拟
    - 注意一个订单可能对应多个商品
    - 切换订单状态,不要切换路由.
    - 地址栏.发旧的设计稿,里面有可以补齐.


## api使用说明
> 强调: 必须按照我的要求(经验),封装api. 配置代理
> 代理地址: http://www.bufantec.com  

### 后台接口
+ 商品管理
    - 分类列表页功能

+ 商品管理 -  新增
    > 该功能是一个大表单. 主要包括两个部分,四个重点. 第一部分: 商品基本信息; 第二部分: 商品库存(sku)信息.

    - kindsId 注意: 多选 ,一件商品可以同时属于多个分类
    - keywords 注意: 不要加逗号,连写
    - imgs 详情页轮播  数组形式. 图片从哪来? 调用上传接口,成功之后会有回调是图片的url
    - 上传接口: 新增素材-上传到OSS(通用),使用ossUrl 地址


+ 订单管理
+ 订单列表
+ 订单详情
> 同时发送3个api才能获取整个数据

    - 订单基本信息  api/leju/admin/order/list?orderId=678188896479350784
    - 收货人信息  /api/leju/admin/order/orderUserInfo
    - 订单sku信息(购买商品)  /api/leju/admin/order/detail
    - 当前流程 从"订单基本信息"结果集获取

+ 订单添加(前台/后台模拟)
    - 用户相关 可以通过 后台=> 客户端管理=> 用户列表 => 客户端明细 获取,包含用户userId和addressId
    
    

+ 退单
> 退单的 userId orderId skuId count 都不是随便乱写的,得注意.

    - 退单的话会关闭之前订单
    - 会形成退货订单
    

+ js浮点数精确计算
> 由于计算机对浮点数(小数)十进制和二进制转换时会出现精度丢失计算不准确,需要借助辅助类实现精确计算.

    - https://github.com/nefe/number-precision
  


